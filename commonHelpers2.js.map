{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nlet formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\nconst form = document.querySelector('.feedback-form');\nconst { email, message } = form.elements;\n\nform.addEventListener('submit', handleSubmit);\nform.addEventListener('input', onFormInput);\n\ngetFormInput();\n\nfunction onFormInput(event) {\n  formData[event.target.name] = event.target.value.trim();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction getFormInput() {\n  formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n  let savedEmail = formData.email;\n  let savedMessage = formData.message;\n  if (savedEmail) {\n    form.elements.email.value = savedEmail;\n  }\n  if (savedMessage) {\n    form.elements.message.value = savedMessage;\n  }\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const emailEl = event.target.elements.email.value;\n  const messageEl = event.target.elements.message.value;\n  console.log({ email: emailEl, message: messageEl });\n\n  if (emailEl === '' || messageEl === '') {\n    return alert('Please fill in all the fields!');\n  }\n\n  console.log('send');\n  event.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n  formData = {};\n  form.reset();\n}\n"],"names":["STORAGE_KEY","formData","form","handleSubmit","onFormInput","getFormInput","event","savedEmail","savedMessage","emailEl","messageEl"],"mappings":"oCAAA,MAAMA,EAAc,sBACpB,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,GAAK,GAEhE,MAAME,EAAO,SAAS,cAAc,gBAAgB,EACzBA,EAAK,SAEhCA,EAAK,iBAAiB,SAAUC,CAAY,EAC5CD,EAAK,iBAAiB,QAASE,CAAW,EAE1CC,IAEA,SAASD,EAAYE,EAAO,CAC1BL,EAASK,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjD,aAAa,QAAQN,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC5D,CAEA,SAASI,GAAe,CACtBJ,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,GAAK,GAC5D,IAAIO,EAAaN,EAAS,MACtBO,EAAeP,EAAS,QACxBM,IACFL,EAAK,SAAS,MAAM,MAAQK,GAE1BC,IACFN,EAAK,SAAS,QAAQ,MAAQM,EAElC,CAEA,SAASL,EAAaG,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMG,EAAUH,EAAM,OAAO,SAAS,MAAM,MACtCI,EAAYJ,EAAM,OAAO,SAAS,QAAQ,MAGhD,GAFA,QAAQ,IAAI,CAAE,MAAOG,EAAS,QAASC,CAAS,CAAE,EAE9CD,IAAY,IAAMC,IAAc,GAClC,OAAO,MAAM,gCAAgC,EAG/C,QAAQ,IAAI,MAAM,EAClBJ,EAAM,cAAc,QACpB,aAAa,WAAWN,CAAW,EACnCC,EAAW,CAAA,EACXC,EAAK,MAAK,CACZ"}